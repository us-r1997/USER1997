<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>XP Easter Egg</title>

<style>
/* ===== Base ===== */
body {
    margin: 0;
    padding: 0;
    font-family: Tahoma, Arial, sans-serif;
    background: linear-gradient(#3a6ea5, #1f3b5c);
    height: 100vh;
    overflow: hidden;
}

/* ===== Container ===== */
.container {
    width: 800px;
    margin: 40px auto;
    background-color: rgba(210, 215, 220, 0.95);
    box-shadow: 0 6px 15px rgba(0,0,0,0.35);
}

/* ===== Header ===== */
.header {
    padding: 12px 20px;
    background: linear-gradient(#3c7dd9, #1f4fa3);
    color: white;
    font-size: 20px;
}

/* ===== Content ===== */
.section {
    padding: 25px 30px;
    background-color: rgba(85, 90, 95, 0.45);
    color: #ffffff;
}

/* ===== Status Bar ===== */
.status-bar {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 6px 10px;
    background: #e4e4e4;
    font-size: 13px;
    color: #000;
}

.status-led {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: radial-gradient(#3cff3c, #0f8a0f);
    border: 1px solid #0a5a0a;
}

#statusText {
    user-select: none;
}

/* ===== XP Popup Template ===== */
#devPopup,
.dev-popup-instance {
    position: fixed;
    width: 320px;
    background: #ece9d8;
    border: 2px solid #0831d9;
    box-shadow: 3px 3px 10px rgba(0,0,0,0.5);
    display: none;
}

.dev-caption {
    background: linear-gradient(#0a246a, #3a6ea5);
    color: white;
    padding: 4px 6px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: move;
    user-select: none;
}

.dev-caption button {
    background: #c75050;
    border: 1px solid #ffffff;
    color: white;
    width: 20px;
    height: 20px;
    cursor: pointer;
}

.dev-body {
    padding: 16px;
    color: #000;
    font-size: 14px;
}

.dev-body p {
    margin: 6px 0;
}

.dev-body button {
    margin-top: 12px;
    padding: 4px 16px;
    font-size: 13px;
}

/* ===== Shake Effect (10+) ===== */
@keyframes shake {
    0% { transform: translate(0, 0); }
    25% { transform: translate(-3px, 2px); }
    50% { transform: translate(3px, -2px); }
    75% { transform: translate(-2px, -3px); }
    100% { transform: translate(0, 0); }
}

.system-shake {
    animation: shake 0.15s infinite;
}
</style>
</head>

<body>

<div class="container">
    <div class="header">My Profile</div>
    <div class="section">
        CTRL + ALT + X 를 눌러보세요.<br>
        (아무 일도 없을 수도 있습니다)
    </div>
    <div class="status-bar">
        <div class="status-led" id="led"></div>
        <span id="statusText">Ready</span>
    </div>
</div>

<!-- ===== XP Easter Egg Popup Template ===== -->
<div id="devPopup">
    <div class="dev-caption">
        <span>System Message</span>
        <button id="devCloseBtn">×</button>
    </div>
    <div class="dev-body">
        <p>수 없이 많은 별들중에서</p>
        <p>당신을 만날 수 있는건</p>
        <p><strong>결코 우연이라 할 수 없어</strong></p>
        <button id="devOkBtn">OK</button>
    </div>
</div>

<script>
/* ===== Status Elements ===== */
const statusText = document.getElementById("statusText");
const led = document.getElementById("led");

/* ===== Easter Egg Logic ===== */
const devPopupTemplate = document.getElementById("devPopup");
let popupZ = 30000;
let popupCount = 0;

const pressedKeys = {};
let cooldown = false;

document.addEventListener("keydown", (e) => {
    pressedKeys[e.key.toLowerCase()] = true;

    if (pressedKeys.ctrl && pressedKeys.alt && pressedKeys.x && !cooldown) {
        spawnDevPopup();
        cooldown = true;
    }
});

document.addEventListener("keyup", () => {
    cooldown = false;
});

function spawnDevPopup() {
    const popup = devPopupTemplate.cloneNode(true);
    popup.removeAttribute("id");
    popup.classList.add("dev-popup-instance");
    popup.style.display = "block";
    popup.style.zIndex = popupZ++;

    const maxX = window.innerWidth - 340;
    const maxY = window.innerHeight - 200;

    popup.style.left = Math.max(10, Math.random() * maxX) + "px";
    popup.style.top  = Math.max(10, Math.random() * maxY) + "px";

    const closeBtn = popup.querySelector("#devCloseBtn");
    const okBtn = popup.querySelector("#devOkBtn");

    const close = () => {
        popup.remove();
        popupCount--;
        updateSystemStatus();
    };

    closeBtn.onclick = close;
    okBtn.onclick = close;

    makeDraggable(popup);

    document.body.appendChild(popup);
    popupCount++;
    updateSystemStatus();
}

function updateSystemStatus() {
    if (popupCount >= 10) {
        statusText.textContent = "Explorer.exe is not responding";
        led.style.background = "radial-gradient(#ff3c3c, #8a0f0f)";
        document.body.classList.add("system-shake");
    } else if (popupCount >= 5) {
        statusText.textContent = "System resources are low";
        led.style.background = "radial-gradient(#ffcc33, #b38600)";
        document.body.classList.remove("system-shake");
    } else {
        statusText.textContent = "Developer mode unlocked";
        led.style.background = "radial-gradient(#3cff3c, #0f8a0f)";
        document.body.classList.remove("system-shake");
    }
}

/* ===== Drag Logic ===== */
function makeDraggable(popup) {
    const caption = popup.querySelector(".dev-caption");
    let offsetX = 0, offsetY = 0;
    let dragging = false;

    caption.addEventListener("mousedown", (e) => {
        dragging = true;
        popup.style.zIndex = popupZ++;
        offsetX = e.clientX - popup.offsetLeft;
        offsetY = e.clientY - popup.offsetTop;
        document.body.style.userSelect = "none";
    });

    document.addEventListener("mousemove", (e) => {
        if (!dragging) return;
        popup.style.left = e.clientX - offsetX + "px";
        popup.style.top  = e.clientY - offsetY + "px";
    });

    document.addEventListener("mouseup", () => {
        dragging = false;
        document.body.style.userSelect = "";
    });
}
</script>

</body>
</html>
